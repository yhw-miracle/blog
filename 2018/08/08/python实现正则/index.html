<html>
  <head><meta name="generator" content="Hexo 3.8.0">
    <title>python实现正则 - 痛点就是起点</title>
    <link href="/images/fav.png" rel="shortcut icon">
<link href="/atom.xml" rel="alternate" type="application/rss+xml">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/responsive.css">
<script src="/js/jquery.js"></script>
<script src="/js/basics.js"></script>
<meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
<meta content="text/html; charset=utf-8" http-equiv="content-type">


  </head>
  <body>
    <header>
  <a id="go-back-home" href="/"><img src="/images/logo.jpg" alt="Home" width="53" height="59"></a>
  <p>痛点就是起点</p>
  <p>Speaking is as important as doing!</p>
</header>

    <div id="container">
      <div class="block">
  
    <a class="main" href="/">Home</a>
  
    <a class="main" href="/ToYou">ToYou</a>
  
    <a class="main" href="/categories">Categories</a>
  
    <a class="main" href="/atom.xml">RSS</a>
  
</div>

      <section class="paging">
  
    <div class="left">
      <a href="/2018/08/09/初识BeautifulSoup/">
        ‹
      </a>
    </div>
  
  
    <div class="right">
      <a href="/2018/08/07/正则表达式/">
        ›
      </a>
    </div>
  
</section>

      <div class="content">
        <section class="post">
          <h1>
            <div class="date">2018-08-08</div>
            python实现正则
          </h1>
          <p>python 通过 re 模块实现对正则表达式的支持，一般先将正则表达式的字符串形式编译为 Pattern 实例，然后使用 Pattern 实例处理文本并获得匹配结果，最后使用 Match 实例获得信息。</p>
<p>python 中常用的实现正则表达式匹配函数有两种调用方式 re 调用和 pattern 调用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># re 调用</span></span><br><span class="line">&gt; <span class="number">1.</span> re.compile(string[,flag])</span><br><span class="line">&gt; <span class="number">2.</span> re.match(pattern, string[,flags])</span><br><span class="line">&gt; <span class="number">3.</span> re.search(pattern, string[,flags])</span><br><span class="line">&gt; <span class="number">4.</span> re.split(pattern, string[,maxsplit[,flags]])</span><br><span class="line">&gt; <span class="number">5.</span> re.findall(pattern, string[,flags])</span><br><span class="line">&gt; <span class="number">6.</span> re.finditer(pattern, string[,flags])</span><br><span class="line">&gt; <span class="number">7.</span> re.sub(pattern, repl, string[,flags[,count]])</span><br><span class="line">&gt; <span class="number">8.</span> re.subn(pattern, repl, string[,flags[,count]])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pattern 调用</span></span><br><span class="line">&gt; <span class="number">1.</span> re.compile(string[,flag])</span><br><span class="line">&gt; <span class="number">2.</span> pattern.match(string[,flags])</span><br><span class="line">&gt; <span class="number">3.</span> pattern.search(string[,flags])</span><br><span class="line">&gt; <span class="number">4.</span> pattern.split(string[,maxsplit[,flags]])</span><br><span class="line">&gt; <span class="number">5.</span> pattern.findall(string[,flags])</span><br><span class="line">&gt; <span class="number">6.</span> pattern.finditer(string[,flags])</span><br><span class="line">&gt; <span class="number">7.</span> pattern.sub(repl, string[,flags[,count]])</span><br><span class="line">&gt; <span class="number">8.</span> pattern.subn(repl, string[,flags[,count]])</span><br></pre></td></tr></table></figure>
<p>其中，flags 参数表示匹配模式，取值有以下几种情况，并且可以使用 “|” 同时使用多种匹配模式。</p>
<blockquote>
<ol>
<li>re.I: 忽略大小写</li>
<li>re.M: 多行模式，改变 “^” 和 “$” 的含义</li>
<li>re.S: 点任意匹配模式，改变 “.” 的含义</li>
<li>re.L: 使预定义字符类 \w\W\b\B\s\S 取决于当前区域设定</li>
<li>re.U: 使预定义字符类\w\W\b\B\s\S\d\D 取决于 unicode 定义的字符属性<br>6.re.X: 详细模式，这个模式下正则表达式可以是多行的，忽略空白符，并可以加入注释</li>
</ol>
</blockquote>
<p>以上 7 个函数在 re 模块中进行搜索匹配，如果需要获得匹配的数据，这时可以利用 Match 对象，Match 对象保存了正则表达式匹配的过程。Match 对象的属性有：</p>
<blockquote>
<ol>
<li>string: 匹配时使用的文本。</li>
<li>re: 匹配时使用的 pattern 对象。</li>
<li>pos: 文本中正则表达式开始搜索的索引。</li>
<li>endpos: 文本中正则表达式结束搜索的索引。</li>
<li>lastindex: 最后一个被捕获的分组在文本中的索引。</li>
<li>lastgroup: 最后一个被捕获的分组的别名。</li>
<li>group(group1,…): 获得一个或多个分组截获的字符串。</li>
<li>groups(): 以元组形式返回全部分组截获的字符串。</li>
<li>groupdict(): 返回以有别名的组的别名为键，以改组截获的子串为值的字典，没有别名的组不包含在内。</li>
<li>start(group): 返回指定的组截获的子串在 string 中的起始索引。<br>11.end(group): 返回指定的组截获的子串在 string 中的结束索引。</li>
<li>span(group): 返回 (start(group), end(group))。</li>
<li>expand(template): 将匹配到的分组代入 template 中然后返回。</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">pattern = re.compile(<span class="string">r'(\w+) (\w+) (?P&lt;word&gt;.*)'</span>)</span><br><span class="line"></span><br><span class="line">match = pattern.match(<span class="string">'My website is yhw-miracle.win.'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'match.string:'</span> + match.string)</span><br><span class="line">print(<span class="string">'match.re:'</span>, match.re)</span><br><span class="line">print(<span class="string">'match.pos:'</span>, match.pos)</span><br><span class="line">print(<span class="string">'match.endpos:'</span>, match.endpos)</span><br><span class="line">print(<span class="string">'match.lastindex:'</span>, match.lastindex)</span><br><span class="line">print(<span class="string">'match.lastgroup:'</span>, match.lastgroup)</span><br><span class="line">print(<span class="string">'match.group(1,2):'</span>, match.group(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">print(<span class="string">'match.groups():'</span>, match.groups())</span><br><span class="line">print(<span class="string">'match.groupdict():'</span>, match.groupdict())</span><br><span class="line">print(<span class="string">'match.start(2):'</span>, match.start(<span class="number">2</span>))</span><br><span class="line">print(<span class="string">'match.end(2):'</span>, match.end(<span class="number">2</span>))</span><br><span class="line">print(<span class="string">'match.span(2):'</span>, match.span(<span class="number">2</span>))</span><br><span class="line">print(<span class="string">"match.expand(r'\2 \1 \3'):"</span>, match.expand(<span class="string">r'\2 \1 \3'</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/images/2018/August/Screenshot%20from%202018-08-08%2013-38-48.png" alt=""></p>

          <br>
<p> from yhw-miracle</p>
<p align="center"><img src="/images/qrcode_for_gh_5efb2780ab44_258.jpg" alt="痛点就是起点"></p>
<p align="center">算法和代码的世界不仅是学习的痛点，而且是成功的起点。欢迎关注，共同进步！</p>

        </section>
      </div>
      
      <!--<div class="block">
  
    <a class="main" href="/">Home</a>
  
    <a class="main" href="/ToYou">ToYou</a>
  
    <a class="main" href="/categories">Categories</a>
  
    <a class="main" href="/atom.xml">RSS</a>
  
</div>
-->
    </div>
    <footer>
  <span class="muted">&copy; 2016 - 2019 yhw-miracle. All Rights Reserved.</span><br>
  <!--<a href='https://github.com/saintwinkle/hexo-theme-scribble' class='muted'>built with Hexo using Scribble theme</a>-->
  <img src="/images/logo.jpg" width="53" height="59" alt="痛点就是起点">
</footer>

  </body>
</html>
