<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="generator" content="Jekyll">

  <title>初识BeautifulSoup</title>

  <link rel="stylesheet" href="/assets/css/main.css">
  
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>初识BeautifulSoup | yhw-miracle’s Blog</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="初识BeautifulSoup" />
<meta name="author" content="yhw-miracle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="BeautifulSoup 是一个可以从 HTML 或 XML 文件中提取数据的 python 库，它能通过解析器实现文档的查找提取和修改等功能。" />
<meta property="og:description" content="BeautifulSoup 是一个可以从 HTML 或 XML 文件中提取数据的 python 库，它能通过解析器实现文档的查找提取和修改等功能。" />
<link rel="canonical" href="http://localhost:4000/%E5%88%9D%E8%AF%86BeautifulSoup" />
<meta property="og:url" content="http://localhost:4000/%E5%88%9D%E8%AF%86BeautifulSoup" />
<meta property="og:site_name" content="yhw-miracle’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-08-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"BeautifulSoup 是一个可以从 HTML 或 XML 文件中提取数据的 python 库，它能通过解析器实现文档的查找提取和修改等功能。","author":{"@type":"Person","name":"yhw-miracle"},"@type":"BlogPosting","url":"http://localhost:4000/%E5%88%9D%E8%AF%86BeautifulSoup","headline":"初识BeautifulSoup","dateModified":"2018-08-09T00:00:00+08:00","datePublished":"2018-08-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/%E5%88%9D%E8%AF%86BeautifulSoup"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/">
    
    <h1>YHW-MIRACLE</h1>
    </a>
    <div class="header-links">
      <a href="/all_posts">
    <h2 class="header-link">All_Posts | </h2>
</a>
<a href="/about">
    <h2 class="header-link">About | </h2>
</a>
<a href="/categories">
    <h2 class="header-link">Categories | </h2>
</a>
<a href="/tags">
    <h2 class="header-link">Tags</h2>
</a>
<!--<a href="/atom.xml"><h2 class="header-link">RSS</h2></a>-->

    </div>
  </div>
</header>

    <div class="container">
      <section id="main_content">
        <article>
  <h2 align="center">初识BeautifulSoup</h2>
  <img src="/images/authorize.png" />
  <center>
    yhw-miracle writed in <time datetime="2018-08-09T00:00:00+08:00" class="by-line">August 9th, 2018</time>
  </center>
  <p>BeautifulSoup 是一个可以从 HTML 或 XML 文件中提取数据的 python 库，它能通过解析器实现文档的查找提取和修改等功能。</p>

<h3 id="1-beautifulsoup-的安装">1. BeautifulSoup 的安装</h3>
<p>对于 BeautifulSoup，目前推荐使用的是 BeautifulSoup 4，BeautifulSoup 3　已经停止开发了。安装 BeautifulSoup 4 有四种方式。</p>

<blockquote>
  <ol>
    <li>最新版的 Debain 或 Ubuntu 系统可以通过系统的软件包管理来安装，sudo apt-get install Python-bs4。</li>
    <li>BeautifulSoup 4 通过 PyPi 发布，可以通过 easy_install 或 pip 来安装，easy_install beautifulsoup4　或 pip install beautifulsoup4。</li>
    <li>通过源码安装，BeautifulSoup 4 的源码地址为<a href="https://pypi.python.org/pypi/beautifulsoup4/">https://pypi.python.org/pypi/beautifulsoup4/</a>，下载源码，解压后，运行命令 python setup.py install 即可完成安装。</li>
    <li>通过 PyCharm　里 Project Interpreter 安装 BeautifulSoup 4。</li>
  </ol>
</blockquote>

<p><img src="/images/2018/August/Screenshot%20from%202018-08-09%2012-55-42.png" alt="" /></p>

<p>BeautifulSoup 支持 Python 标准库中的 HTML 解析器，还支持一些第三方解析器，如，lxml，html5lib 等，安装这些解析器方法与安装 BeautifulSoup 4 类似。</p>

<table>
  <thead>
    <tr>
      <th>解析器</th>
      <th>优势</th>
      <th>劣势</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Python 标准库</td>
      <td>Python 的内置标准库，执行速度适中，文档容错能力强</td>
      <td>Python 早期版本文档容错能力差</td>
    </tr>
    <tr>
      <td>lxml HTML 解析器</td>
      <td>速度快，文档容错能力强</td>
      <td>需要安装 C 语言库</td>
    </tr>
    <tr>
      <td>lxml xml 解析器</td>
      <td>速度快，唯一支持 xml 的解析器</td>
      <td>需要安装 c　语言库</td>
    </tr>
    <tr>
      <td>html5lib</td>
      <td>最好的容错性，以浏览器方式解析文档，生成 HTML5 格式的文档</td>
      <td>速度慢，不依赖外部扩展</td>
    </tr>
  </tbody>
</table>

<h3 id="2-beautifulsoup-的使用">2. BeautifulSoup 的使用</h3>
<p>BeautifulSoup 将复杂的 HTML 文档转换成一个复杂的树形结构，每个节点是 python 对象，这些对象可以归纳为 Tag、NavigableString、BeautifulSoup、Comment。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- 测试文档　--&gt;</span>
<span class="nt">&lt;html&gt;&lt;head&gt;&lt;title&gt;</span>my blog<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;&lt;b&gt;</span>One<span class="nt">&lt;/b&gt;&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>Two
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://xxx.cn/one"</span> <span class="na">class=</span><span class="s">"one"</span> <span class="na">id=</span><span class="s">"link1"</span><span class="nt">&gt;</span><span class="c">&lt;!-- one --&gt;</span><span class="nt">&lt;/a&gt;</span>,
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://xxx.cn/two"</span> <span class="na">class=</span><span class="s">"two"</span> <span class="na">id=</span><span class="s">"link2"</span><span class="nt">&gt;</span><span class="c">&lt;!-- two --&gt;</span><span class="nt">&lt;/a&gt;</span> and
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://xxx.cn/three"</span> <span class="na">class=</span><span class="s">"three"</span> <span class="na">id=</span><span class="s">"link3"</span><span class="nt">&gt;</span>three<span class="nt">&lt;/a&gt;</span>;
hello,world<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<h4 id="1-tag-对象">1. Tag 对象</h4>
<p>Tag 对象可以直接以标签名获取标签内容，Tag 对象还有两个属性 name 和 attr，分别表示获取到标签的名称和标签属性内容（以字典的形式返回）。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding:utf-8
</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">htmlStr</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2018/August/Screenshot%20from%202018-08-10%2014-18-03.png" alt="" /></p>

<h4 id="2-navigablestring-对象">2. NavigableString 对象</h4>
<p>NavigableString 对象用来获取标签内部字符串，利用属性 string 来获取。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding:utf-8
</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">htmlStr</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">string</span><span class="p">))</span>
</code></pre></div></div>

<p><img src="/images/2018/August/Screenshot%20from%202018-08-10%2014-24-18.png" alt="" /></p>

<h4 id="3-beautifulsoup-对象">3. BeautifulSoup 对象</h4>
<p>BeautifulSoup 对象表示一个文档的全部内容，可以理解为特殊的 Tag 对象。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding:utf-8
</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">htmlStr</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</code></pre></div></div>

<p><img src="/images/2018/August/Screenshot%20from%202018-08-10%2014-29-25.png" alt="" /></p>

<h4 id="4-comment-对象">4. Comment 对象</h4>
<p>Commnet 对象用来获取文档中注释的内容。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding:utf-8
</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">htmlStr</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">string</span><span class="p">))</span>
</code></pre></div></div>

<p><img src="/images/2018/August/Screenshot%20from%202018-08-10%2014-32-08.png" alt="" /></p>

<h4 id="5-beautifulsoup-支持文档树遍历可以根据子节点父节点兄弟节点和前后节点进行遍历">5. BeautifulSoup 支持文档树遍历，可以根据子节点、父节点、兄弟节点和前后节点进行遍历。</h4>

<table>
  <thead>
    <tr>
      <th>遍历方面</th>
      <th>属性描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>子节点</td>
      <td>.contents, .children, .descendants</td>
    </tr>
    <tr>
      <td>父节点</td>
      <td>.parent, .parents</td>
    </tr>
    <tr>
      <td>兄弟节点</td>
      <td>.previous_sibling(s), .next_sibling(s)</td>
    </tr>
    <tr>
      <td>前后节点</td>
      <td>.previous_element(s), .next_element(s)</td>
    </tr>
  </tbody>
</table>

<p>BeautifulSoup 还支持 find*() 方法搜索文档树，以及支持 select() 方法根据　CSS 选择器查找文档中指定的标签。</p>

</article>


	<div class="tags">
	<img src="/images/tag.png" />
	
		<a href="/tag/python">python</a>
	
		<a href="/tag/BeautifulSoup">BeautifulSoup</a>
	
	</div>






	<div class="categories">
	<img src="/images/category.png" />
	
	  <a href="/category/知识总结">知识总结</a>
	
	</div>




<div class="pagination">
    上一篇：
    
      <a href="/%E4%B8%AD%E7%A7%8B%E5%BF%AB%E4%B9%90" class="previous">
        <img src="/images/previous.png" />
      </a>
    
  
    | 下一篇：
    
      <a href="/python%E5%AE%9E%E7%8E%B0%E6%AD%A3%E5%88%99" class="next">
        <img src="/images/next.png" />
      </a>
    
  </div>


      </section>
    </div>
  </div>

  

  <div align="center" id="qecode_img">
  <hr />
  <p>欢迎关注，我们一起进行认知迭代！</p>
  <img src="/images/qrcode_for_gh_5efb2780ab44_258.jpg" /><br />
  痛点就是起点
</div>

<footer>
  <!-- <a href="https://blogs.yhw-miracle.cn">
    <span>
        <b>yhw-miracle</b>
    </span>
    
    <span>© 2016 - 2019</span>
  </a> -->
</footer>

<div align="center" style="font-size: 13px;">
  <hr />
  <span>&copy; 2016 - 2019</span>基于
  <a href="https://jekyllrb.com">jekyll</a> | 
  <a href="https://github.com">Github Pags</a> | 
  By <a href="blogs.yhw-miracle.cn">yhw-miracle</a>
</div>


  <!--  -->
</body>
</html>